openapi: 3.1.0
info:
  title: umami API docs
  version: v3.0.0
  description: |-
    Documentation for Umami Analytics with daily status updates to help detect undocumented changes.
    Information about broken or failed API endpoints, if available, can be found in the GitHub repository.
  contact:
    url: "https://github.com/ceviixx/umami-api-docs"
  x-logo:
    url: logo-light.svg
    altText: "Umami API Docs"
    href: "/umami-api-docs/#"
    backgroundColor: "#fff"

externalDocs: 
  url: "https://umami.is/"
  description: Documentation for umami Analytics
  
tags:
  - name: Authentication
    description: TBD
  - name: My account
    description: TBD
  - name: Stats
    description: TBD
  - name: Sessions
    description: TBD
  - name: Events
    description: TBD
  - name: Reports
    description: TBD
  - name: Pixels
    description: TBD
  - name: Links
    description: TBD
  - name: Cohorts & Segments
    description: TBD
  - name: Websites
    description: TBD
  - name: Teams
    description: TBD
  - name: Helper
    description: Helper requests

paths:

  /auth/login:
    post: 
      summary: Login
      tags:
        - Authentication
      description: TBD
      operationId: authLogin
      security: []
      servers: 
        - url: https://umami.example.com/api
          description: Self-hosted Umami
      requestBody: 
        content:
          application:json:
            schema:
              type: object
              properties:
                username:
                  type: string
                  description: TBD
                password:
                  type: string
                  description: TBD
      responses:
        "200":
          description: TBD
          content: 
            application/json:
              example:
                token: "km6ceWFN5t60a4zS1wwDCA4z/xPeLvQYAp838ZpdzHja5NvrB80+ioM0TxOolOaNiZJy60Ul7x4zLoAH9ODl8ChTxukbLzP3yTgXEQeNSLWCw4QWDn5IO7iID/ZopvOkUeTgKYKFOv6WNhYdpx7AU7xsIV9wzfa9hTNLmsD1VbXy5OSCEAPznwXAbPaydofVptsOOeHmjmdqRSQMn+Nrv74+Qp7YvVIt25QQUNxvc7if81HI8WwblZ2OShjvL6dPBrnnGLl/KxyRY7LAoBZ+TzypCQckqjwWQ2YJCWjRciXBEUzod72jJz9nj1PhOISwgqSnvjxQon2nVqOowvtjo6PcrMj5scDrPa1MZPsU2n3Z+VyhNNzvJZ27vfPP"
                user:
                  id: "41e2b680-648e-4b09-bcd7-3e2b10c06264"
                  username: "admin"
                  role: "admin"
                  createdAt: "2025-10-09T08:17:51.401Z"
                  isAdmin: true
              schema:
                type: object
                properties:
                  token:
                    type: string
                    description: TBD
                  user:
                    type: object
                    properties:
                      id:
                        type: string
                        format: uuid
                        description: TBD
                      username:
                        type: string
                        description: TBD
                      role:
                        type: string
                        description: TBD
                        enum: [admin, user]
                      createdAt:
                        type: string
                        format: date-time
                      isAdmin:
                        type: boolean
                        description: TBD
        "400":
          description: TBD

  /auth/verify:
    post: 
      summary: Verfiy
      tags: 
        -  Authentication
      description: TBD
      operationId: authVerify
      security:
        - bearer-token: []
      servers: 
        - url: https://umami.example.com/api
          description: Self-hosted Umami
      responses: 
        "200":
          description: TBD
          content: 
            application/json:
              example:
                id: "41e2b680-648e-4b09-bcd7-3e2b10c06264"
                username: "admin"
                role: "admin"
                createdAt: "2025-10-09T08:17:51.401Z"
                isAdmin: true
              schema:
                type: object
                additionalProperties: false
                properties:
                  id:
                    type: string
                    format: uuid
                    description: TBD
                  username:
                    type: string
                    minLength: 1
                    description: TBD
                  role:
                    type: string
                    description: TBD
                    enum: [admin, user]
                  createdAt:
                    type: string
                    format: date-time
                    description: TBD
                  isAdmin:
                    type: boolean
                    description: TBD
        "400":
          description: TBD

  /me:
    get: 
      summary: My details
      tags:
        - My account
      description: TBD
      operationId: meDetails
      responses: 
        '200':
          description: Success
          content: 
            application/json:
              example:
                token: "Y2xvU2VjdXJlL2Rldl9rR2JYbTZxR1l4T3ZxQ2xkQXVpU2Eyb1lhdWV2bU9YQUd2ZFk4M1JXbWoyZlFzR0JtSm1zS1ZtRWtqUUNmQm5QbU5qZ2JjQnJmOG1mUjZPc1p0Z2hDaj09"
                shareToken: null
                user:
                  id: "5f9c2d41-8b7a-4e21-92d3-1c4b7a9f2e60"
                  username: "dev.user@example.com"
                  role: "user"
                  createdAt: "2024-04-17T19:20:55.624Z"
                  isAdmin: false
              schema: 
                type: object
                properties:
                  token:
                    type: string
                    description: TBD
                  shareToken:
                    type: 
                      - string
                      - 'null'
                    description: TBD
                  user:
                    type: object
                    properties:
                      id:
                        type: string
                        format: uuid
                        description: TBD
                      username:
                        type: string
                        description: LTBD
                      role:
                        type: string
                        description: TBD
                        enum: [admin, user]
                      createdAt:
                        type: string
                        format: date-time
                      isAdmin:
                        type: boolean
                        description: TBD
        '400':
          description: Bad request
          
  /me/teams:
    get: 
      summary: My teams
      tags:
        - My account
      description: TBD
      operationId: meTeams
      responses: 
        '200':
          description: Success
          content: 
            application/json:
              example:
                data:
                  - id: "d7a2b1c3-4e5f-4879-9a1b-1c2d3e4f5a6b"
                    name: "alpha-squad"
                    accessCode: "team_Qw3Rt9LmXa7P2VzK"
                    logoUrl: null
                    createdAt: "2025-10-17T23:20:47.360Z"
                    updatedAt: "2025-10-17T23:20:49.059Z"
                    deletedAt: null
                    members:
                      - id: "11f9b2ad-6e3c-4a0e-8b0e-7c3b5a9e2d41"
                        teamId: "d7a2b1c3-4e5f-4879-9a1b-1c2d3e4f5a6b"
                        userId: "4a6e0b7d-8c21-4b6e-a2b1-5f9c0d3e2a74"
                        role: "team-owner"
                        createdAt: "2025-10-17T23:20:47.511Z"
                        updatedAt: "2025-10-17T23:20:47.511Z"
                        user:
                          id: "4a6e0b7d-8c21-4b6e-a2b1-5f9c0d3e2a74"
                          username: "user.alpha@example.com"
                    _count:
                      websites: 0
                      members: 1

                  - id: "a3c5e7f9-2b41-4d6a-8e0f-1a2b3c4d5e6f"
                    name: "beta-team"
                    accessCode: "team_Hn8Ks4Md2Qp7Zt0L"
                    logoUrl: null
                    createdAt: "2025-10-17T23:11:47.302Z"
                    updatedAt: "2025-10-17T23:11:47.302Z"
                    deletedAt: null
                    members:
                      - id: "c9a7b6e5-d4c3-4b2a-9f18-0e2d3c4b5a6f"
                        teamId: "a3c5e7f9-2b41-4d6a-8e0f-1a2b3c4d5e6f"
                        userId: "7b2c1d0e-9a8f-4e6d-b3c2-a1f0e9d8c7b6"
                        role: "team-owner"
                        createdAt: "2025-10-17T23:11:47.456Z"
                        updatedAt: "2025-10-17T23:11:47.456Z"
                        user:
                          id: "7b2c1d0e-9a8f-4e6d-b3c2-a1f0e9d8c7b6"
                          username: "user.beta@example.org"
                    _count:
                      websites: 0
                      members: 1

                  - id: "f1e3d5c7-b9a2-4c6d-8e0f-1a2b3c4d5e70"
                    name: "static-team"
                    accessCode: "team_Rk5Mn2TpLZ55VvQa"
                    logoUrl: null
                    createdAt: "2025-10-17T21:20:22.585Z"
                    updatedAt: "2025-10-17T21:20:22.585Z"
                    deletedAt: null
                    members:
                      - id: "ab34cd56-7890-4123-9def-0a1b2c3d4e5f"
                        teamId: "f1e3d5c7-b9a2-4c6d-8e0f-1a2b3c4d5e70"
                        userId: "3c2b1a0f-9e8d-4c7b-8a6f-5e4d3c2b1a0f"
                        role: "team-owner"
                        createdAt: "2025-10-17T21:20:22.738Z"
                        updatedAt: "2025-10-17T21:20:22.738Z"
                        user:
                          id: "3c2b1a0f-9e8d-4c7b-8a6f-5e4d3c2b1a0f"
                          username: "user.gamma@example.net"
                    _count:
                      websites: 0
                      members: 1
                count: 3
                page: 1
                pageSize: 20
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          format: uuid
                        name:
                          type: string
                        accessCode:
                          type: string
                          minLength: 8
                          maxLength: 64
                          description: TBD
                        logoUrl:
                          type: 
                            - string
                            - 'null'
                          format: uri
                        createdAt:
                          type: string
                          format: date-time
                        updatedAt:
                          type: string
                          format: date-time
                        deletedAt:
                          type: 
                            - string
                            - 'null'
                          format: date-time
                        members:
                          type: array
                          items:
                            type: object
                            properties:
                              id:
                                type: string
                                format: uuid
                              teamId:
                                type: string
                                format: uuid
                              userId:
                                type: string
                                format: uuid
                              role:
                                type: string
                                description: TBD
                                enum: [team-owner, team-admin, team-member]
                              createdAt:
                                type: string
                                format: date-time
                              updatedAt:
                                type: string
                                format: date-time
                              user:
                                type: object
                                properties:
                                  id:
                                    type: string
                                    format: uuid
                                  username:
                                    type: string
                                    minLength: 1
                                    description: TBD
                        _count:
                          type: object
                          properties:
                            websites:
                              type: integer
                            members:
                              type: integer
                  count:
                    type: integer
                  page:
                    type: integer
                  pageSize:
                    type: integer
        '400':
          description: Bad request
  
  /me/websites:
    get: 
      summary: My websites
      tags:
        - My account
      description: TBD
      operationId: meWebsites
      responses: 
        '200':
          description: Success
          content: 
            application/json:
              example:
                data:
                  - id: "0f3a2c5e-9bd8-4c1f-92f7-1a2b3c4d5e6f"
                    name: "Staging"
                    domain: "staging.example.net"
                    shareId: null
                    resetAt: null
                    userId: "5a8e7d9c-1b2f-4a3d-8e9f-0123456789ab"
                    teamId: null
                    createdBy: "5a8e7d9c-1b2f-4a3d-8e9f-0123456789ab"
                    createdAt: "2025-09-22T11:35:23.635Z"
                    updatedAt: "2025-10-17T20:01:05.473Z"
                    deletedAt: null
                    user:
                      username: "user.alpha@example.com"
                      id: "5a8e7d9c-1b2f-4a3d-8e9f-0123456789ab"
                  - id: "7c6b5a49-2e1d-4f3a-8b9c-d0e1f2a3b4c5"
                    name: "Website Catalog"
                    domain: "catalog.example.org"
                    shareId: null
                    resetAt: null
                    userId: "b3c2a1f0-9e8d-4c7b-8a6f-5e4d3c2b1a0f"
                    teamId: null
                    createdBy: "b3c2a1f0-9e8d-4c7b-8a6f-5e4d3c2b1a0f"
                    createdAt: "2024-10-12T20:41:22.152Z"
                    updatedAt: "2025-05-24T13:33:05.745Z"
                    deletedAt: null
                    user:
                      username: "user.beta@example.org"
                      id: "b3c2a1f0-9e8d-4c7b-8a6f-5e4d3c2b1a0f"
                count: 2
                page: 1
                pageSize: 20
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          format: uuid
                          description: TBD
                        name:
                          type: string
                          description: TBD
                        domain:
                          type: string
                          description: TBD
                          format: hostname
                        shareId:
                          type: 
                            - string
                            - 'null'
                          description: TBD
                        resetAt:
                          type: 
                            - string
                            - 'null'
                          format: date-time
                          description: TBD
                        userId:
                          type: string
                          format: uuid
                          description: TBD
                        teamId:
                          type: 
                            - string
                            - 'null'
                          format: uuid
                          description: TBD
                        createdBy:
                          type: string
                          format: uuid
                          description: TBD
                        createdAt:
                          type: string
                          format: date-time
                          description: TBD
                        updatedAt:
                          type: string
                          format: date-time
                          description: TBD
                        deletedAt:
                          type: 
                            - string
                            - 'null'
                          format: date-time
                          description: TBD
                        user:
                          type: object
                          properties:
                            id:
                              type: string
                              format: uuid
                            username:
                              type: string
                              description: TBD
                  count:
                    type: integer
                    description: TBD
                  page:
                    type: integer
                    description: TBD
                  pageSize:
                    type: integer
                    description: TBD
        '400':
          description: Bad request
          
  /websites/{id}/active:
    get:
      summary: Active
      tags:
        - Stats
      description: TBD
      operationId: activeVisitors
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          description: TBD
      responses:
        "200":
          description: Success
          content:
            application/json:
              example:
                visitors: 20
              schema:
                type: object
                properties:
                  visitors:
                    type: number
                    description: TBD
        "400":
          description: Bad request

  /websites/{id}/stats:
    get:
      summary: Statistics
      tags:
        - Stats
      description: TBD
      operationId: statistics
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          description: TBD
        - name: startAt
          in: query
          required: true
          schema:
            type: number
          description: TBD
        - name: endAt
          in: query
          required: true
          schema:
            type: number
          description: TBD
        - name: unit
          in: query
          required: true
          schema:
            type: string
            enum:
              - hour
              - day
              - month
          description: TBD
        - name: timezone
          in: query
          required: true
          schema:
            type: string
          description: TBD
      responses:
        "200":
          description: Success
          content:
            application/json:
              example:
                pageviews: 20
                visitors: 20
                visits: 20
                bounces: 20
                totaltime: 20
                comparison:
                  pageviews: 20
                  visitors: 20
                  visits: 20
                  bounces: 20
                  totaltime: 20
              schema:
                type: object
                properties:
                  pageviews:
                    type: number
                    description: TBD
                  visitors:
                    type: number
                    description: TBD
                  visits:
                    type: number
                    description: TBD
                  bounces:
                    type: number
                    description: TBD
                  totaltime:
                    type: number
                    description: TBD
                  comparison:
                    type: object
                    properties:
                      pageviews:
                        type: integer
                        description: TBD
                      visitors:
                        type: integer
                        description: TBD
                      visits:
                        type: integer
                        description: TBD
                      bounces:
                        type: integer
                        description: TBD
                      totaltime:
                        type: integer
                        description: TBD

        "400":
          description: Bad request

  /websites/{id}/pageviews:
    get:
      summary: Pageviews
      tags:
        - Stats
      description: TBD
      operationId: pageviews
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          description: TBD
        - name: compare
          in: query
          schema:
            type: string
            enum:
              - prev
              - yoy
          description: Previous period or previous year
        - name: startAt
          in: query
          required: true
          schema:
            type: number
          description: TBD
        - name: endAt
          in: query
          required: true
          schema:
            type: number
          description: TBD
        - name: unit
          in: query
          required: true
          schema:
            type: string
            enum:
              - hour
              - day
              - month
          description: TBD
        - name: timezone
          in: query
          required: true
          schema:
            type: string
          description: TBD
      responses:
        "200":
          description: Success
          content:
            application/json:
              example:
                pageviews:
                  - x: 2025-10-10T20:10:00Z
                    y: 10
                sessions:
                  - x: 2025-10-10T20:10:00Z
                    y: 15
              schema:
                type: object
                properties:
                  pageviews:
                    type: array
                    items:
                      type: object
                      properties:
                        x:
                          type: string
                          format: date-time
                        y:
                          type: integer
                  sessions:
                    type: array
                    items:
                      type: object
                      properties:
                        x:
                          type: string
                          format: date-time
                        y:
                          type: integer
        "400":
          description: Bad request

  /websites/{id}/metrics:
    get:
      summary: Metrics
      tags:
        - Stats
      description: TBD
      operationId: metrics
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          description: x
        - name: startAt
          in: query
          required: true
          schema:
            type: number
          description: TBD
        - name: endAt
          in: query
          required: true
          schema:
            type: number
          description: TBD
        - name: unit
          in: query
          required: true
          schema:
            type: string
            enum:
              - hour
              - day
              - month
          description: TBD
        - name: timezone
          in: query
          required: true
          schema:
            type: string
          description: TBD
        - name: type
          in: query
          required: true
          schema:
            type: string
            enum:
              - browser
              - device
              - os
              - city
              - country
              - region
              - entry
              - exit
              - path
              - channel
              - referrer
          description: TBD
      responses:
        "200":
          description: Success
          content:
            application/json:
              example:
                - x: "/"
                  y: 20
                - x: "/home"
                  y: 12
              schema:
                type: array
                items:
                  type: object
                  properties:
                    x:
                      type: string
                    y:
                      type: number
        "400":
          description: Bad request

  /realtime/{id}:
    get:
      summary: Realtime
      tags:
        - Stats
      description: TBD
      operationId: realtime
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          description: x
      responses:
        "200":
          description: Success
          content:
            application/json:
              example:
                countries:
                  DE: 1
                urls:
                  /gh-pages-api-test/: 1
                referrers: {}
                events:
                  - __type: pageview
                    sessionId: e5993b0b-5bf3-5a9f-80e6-f8f49a7845f3
                    eventName: ""
                    createdAt: "2025-10-15T17:45:07Z"
                    browser: safari
                    os: Mac OS
                    device: desktop
                    country: DE
                    urlPath: /gh-pages-api-test/
                    referrerDomain: ""
                  - __type: session
                    sessionId: e5993b0b-5bf3-5a9f-80e6-f8f49a7845f3
                    eventName: ""
                    createdAt: "2025-10-15T17:45:07Z"
                    browser: safari
                    os: Mac OS
                    device: desktop
                    country: DE
                    urlPath: /gh-pages-api-test/
                    referrerDomain: ""
                series:
                  views:
                    - x: "2025-10-15T17:45:00Z"
                      y: 1
                  visitors:
                    - x: "2025-10-15T17:45:00Z"
                      y: 1
                totals:
                  views: 1
                  visitors: 1
                  events: 0
                  countries: 1
                timestamp: 1760550325565
              schema:
                type: object
                properties:
                  countries:
                    type: object
                    additionalProperties:
                      type: integer
                  urls:
                    type: object
                    additionalProperties:
                      type: integer
                  referrers:
                    type: object
                    additionalProperties:
                      type: integer
                  events:
                    type: array
                    items:
                      type: object
                      properties:
                        __type:
                          type: string
                        sessionId:
                          type: string
                        eventName:
                          type: string
                        createdAt:
                          type: string
                          format: date-time
                        browser:
                          type: string
                        os:
                          type: string
                        device:
                          type: string
                        country:
                          type: string
                        urlPath:
                          type: string
                        referrerDomain:
                          type: string
                  series:
                    type: object
                    properties:
                      views:
                        type: array
                        items:
                          type: object
                          properties:
                            x:
                              type: string
                              format: date-time
                            y:
                              type: integer
                      visitors:
                        type: array
                        items:
                          type: object
                          properties:
                            x:
                              type: string
                              format: date-time
                            y:
                              type: integer
                  totals:
                    type: object
                    properties:
                      views:
                        type: integer
                      visitors:
                        type: integer
                      events:
                        type: integer
                      countries:
                        type: integer
                  timestamp:
                    type: number 







        "400":
          description: Bad request

  /websites/{id}/weekly:
    get:
      summary: Traffic (weekly)
      tags:
        - Stats
      description: TBD
      operationId: getWeeklyTraffic
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          description: TBD
        - name: startAt
          in: query
          required: true
          schema:
            type: number
          description: TBD
        - name: endAt
          in: query
          required: true
          schema:
            type: number
          description: TBD
        - name: startDate
          in: query
          required: true
          schema:
            type: string
          description: TBD
        - name: endDate
          in: query
          required: true
          schema:
            type: string
          description: TBD
        - name: unit
          in: query
          required: true
          schema:
            type: string
            enum:
              - hour
              - day
              - month
          description: TBD
        - name: timezone
          in: query
          required: true
          schema:
            type: string
          description: TBD
      responses:
        "200":
          description: Success
          content:
            application/json:
              example:
                - [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
                - [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
                - [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0]
                - [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
                - [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
                - [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
                - [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
              schema:
                type: array
                description: TBD
                items:
                  type: array
                  items:
                    type: integer
        "400":
          description: Bad request

  /websites/{id}/sessions:
    get:
      summary: Get all sessions
      tags:
        - Sessions
      description: TBD
      operationId: getSessions
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          description: TBD
        - name: startAt
          in: query
          required: true
          schema:
            type: number
          description: TBD
        - name: endAt
          in: query
          required: true
          schema:
            type: number
          description: TBD
        - name: startDate
          in: query
          required: true
          schema:
            type: string
          description: TBD
        - name: endDate
          in: query
          required: true
          schema:
            type: string
          description: TBD
        - name: unit
          in: query
          required: true
          schema:
            type: string
            enum:
              - hour
              - day
              - month
          description: TBD
        - name: timezone
          in: query
          required: true
          schema:
            type: string
          description: TBD
        - name: pageSize
          in: query
          required: true
          schema:
            type: number
          description: TBD
      responses:
        "200":
          description: Success
          content:
            application/json:
              example:
                data:
                  - id: "a1b2c3d4-e5f6-7890-1234-567890abcdef"
                    websiteId: "f0e9d8c7-b6a5-4321-fedc-ba9876543210"
                    hostname:
                      - "example.com"
                      - "www.example.com"
                    browser: "Chrome"
                    os: "Windows"
                    device: "desktop"
                    screen: "1920x1080"
                    language: "en-US"
                    country: "US"
                    region: "California"
                    city: "San Francisco"
                    firstAt: "2025-10-14T15:00:00Z"
                    lastAt: "2025-10-14T15:30:00Z"
                    visits: 5
                    views: 12
                    createdAt: "2025-10-14T15:00:00Z"
                count: 100
                page: 1
                pageSize: 10
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          format: uuid
                          description: TBD
                        websiteId:
                          type: string
                          format: uuid
                          description: TBD
                        hostname:
                          type: array
                          items:
                            type: string
                        browser:
                          type: string
                        os:
                          type: string
                        device:
                          type: string
                        screen:
                          type: string
                        language:
                          type: string
                        country:
                          type: string
                        region:
                          type: string
                        city:
                          type: string
                        firstAt:
                          type: string
                          format: date-time
                          description: TBD
                        lastAt:
                          type: string
                          format: date-time
                          description: TBD
                        visits:
                          type: integer
                        views:
                          type: integer
                        createdAt:
                          type: string
                          format: date-time
                          description: TBD
                  count:
                    type: integer
                    description: TBD
                  page:
                    type: integer
                    description: TBD
                  pageSize:
                    type: integer
                    description: TBD
        "400":
          description: Bad request

  /websites/{id}/session-data/properties:
    get:
      summary: Get properties
      tags:
        - Sessions
      description: TBD
      operationId: getSessionsProperties
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          description: TBD
        - name: startAt
          in: query
          required: true
          schema:
            type: number
          description: TBD
        - name: endAt
          in: query
          required: true
          schema:
            type: number
          description: TBD
        - name: startDate
          in: query
          required: true
          schema:
            type: string
          description: TBD
        - name: endDate
          in: query
          required: true
          schema:
            type: string
          description: TBD
        - name: unit
          in: query
          required: true
          schema:
            type: string
            enum:
              - hour
              - day
              - month
          description: TBD
        - name: timezone
          in: query
          required: true
          schema:
            type: string
          description: TBD
      responses:
        "200":
          description: Success
        "400":
          description: Bad request

  /websites/{id}/sessions/:session_id:
    get:
      summary: Get session
      tags:
        - Sessions
      description: TBD
      operationId: sessionDetails
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          description: TBD
      responses:
        "200":
          description: Success
          content:
            application/json:
              example:
                id: "b2c3d4e5-f6a7-8901-2345-67890abcdef0"
                websiteId: "c7b6a5f0-e9d8-4321-fedc-ba9876543210"
                distinctId: "user-12345"
                browser: "Firefox"
                os: "Linux"
                device: "mobile"
                screen: "375x667"
                language: "fr-FR"
                country: "FR"
                region: "Ile-de-France"
                city: "Paris"
                firstAt: "2025-10-14T16:00:00Z"
                lastAt: "2025-10-14T16:05:00Z"
                visits: 1
                views: 3
                events: 5
                totaltime: 300
              schema:
                type: object
                properties:
                  id:
                    type: string
                    format: uuid
                    description: TBD
                  websiteId:
                    type: string
                    format: uuid
                    description: TBD
                  distinctId:
                    type: string
                    description: TBD
                  browser:
                    type: string
                  os:
                    type: string
                  device:
                    type: string
                  screen:
                    type: string
                  language:
                    type: string
                  country:
                    type: string
                  region:
                    type: string
                  city:
                    type: string
                  firstAt:
                    type: string
                    format: date-time
                    description: TBD
                  lastAt:
                    type: string
                    format: date-time
                    description: TBD
                  visits:
                    type: integer
                  views:
                    type: integer
                  events:
                    type: integer
                  totaltime:
                    type: integer
                    description: TBD
        "400":
          description: Bad request

  /websites/{id}/sessions/:session_id/properties:
    get:
      summary: Session properties
      tags:
        - Sessions
      description: TBD
      operationId: sessionProperties
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          description: TBD
      responses:
        "200":
          description: OK
        "400":
          description: Bad request

  /websites/{id}/sessions/:session_id/activity:
    get:
      summary: Session activity
      tags:
        - Sessions
      description: TBD
      operationId: sessionActivity
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          description: TBD
        - name: startAt
          in: query
          required: true
          schema:
            type: number
          description: TBD
        - name: endAt
          in: query
          required: true
          schema:
            type: number
          description: TBD
      responses:
        "200":
          description: Success
          content:
            application/json:
              example:
                - createdAt: "2025-10-14T17:00:00Z"
                  urlPath: "/home"
                  urlQuery: ""
                  referrerDomain: ""
                  eventId: "c1d2e3f4-a5b6-7890-1234-567890abcde1"
                  eventType: 1
                  eventName: "pageview"
                  visitId: "d2e3f4a5-b6c7-8901-2345-67890abcdef2"
                  hasData: 0
              schema:
                type: array
                items:
                  type: object
                  properties:
                    createdAt:
                      type: string
                      format: date-time
                    urlPath:
                      type: string
                    urlQuery:
                      type: string
                    referrerDomain:
                      type: string
                    eventId:
                      type: string
                      format: uuid
                    eventType:
                      type: integer
                    eventName:
                      type: string
                    visitId:
                      type: string
                      format: uuid
                    hasData:
                      type: number
        "400":
          description: Bad request

  /websites/{id}/events:
    get:
      summary: Events (activity)
      tags:
        - Events
      description: TBD
      operationId: events
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          description: TBD

        - name: startAt
          in: query
          required: true
          schema:
            type: number
          description: TBD
        - name: endAt
          in: query
          required: true
          schema:
            type: number
          description: TBD
        - name: unit
          in: query
          required: true
          schema:
            type: string
            enum:
              - hour
              - day
              - month
          description: TBD
        - name: timezone
          in: query
          required: true
          schema:
            type: string
          description: TBD
      responses:
        "200":
          description: Success
          content:
            application/json:
              example:
                data:
                  - id: "d1e2f3a4-b5c6-7890-1234-567890abcde1"
                    websiteId: "e2f3a4b5-c6d7-8901-2345-67890abcdef2"
                    sessionId: "f3a4b5c6-d7e8-9012-3456-7890abcdef34"
                    createdAt: "2025-10-14T18:00:00Z"
                    hostname: "api.example.com"
                    urlPath: "/dashboard"
                    urlQuery: ""
                    referrerPath: "/"
                    referrerQuery: ""
                    referrerDomain: "internal"
                    country: "CA"
                    city: "Toronto"
                    device: "desktop"
                    os: "macOS"
                    browser: "Safari"
                    pageTitle: "Dashboard Overview"
                    eventType: 1
                    eventName: "pageview"
                    hasData: 0
                count: 50
                page: 1
                pageSize: 20
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          format: uuid
                          description: TBD
                        websiteId:
                          type: string
                          format: uuid
                          description: TBD
                        sessionId:
                          type: string
                          format: uuid
                          description: TBD
                        createdAt:
                          type: string
                          format: date-time
                        hostname:
                          type: string
                        urlPath:
                          type: string
                        urlQuery:
                          type: string
                        referrerPath:
                          type: string
                        referrerQuery:
                          type: string
                        referrerDomain:
                          type: string
                        country:
                          type: string
                        city:
                          type: string
                        device:
                          type: string
                        os:
                          type: string
                        browser:
                          type: string
                        pageTitle:
                          type: string
                        eventType:
                          type: integer
                        eventName:
                          type: string
                        hasData:
                          type: number
                  count:
                    type: integer
                    description: TBD
                  page:
                    type: integer
                    description: TBD
                  pageSize:
                    type: integer
                    description: TBD
        "400":
          description: Bad request

  /websites/{id}/event-data/properties:
    get:
      summary: Event properties
      tags:
        - Events
      description: TBD
      operationId: eventProperties
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          description: TBD

        - name: startAt
          in: query
          required: true
          schema:
            type: number
          description: TBD
        - name: endAt
          in: query
          required: true
          schema:
            type: number
          description: TBD
        - name: unit
          in: query
          required: true
          schema:
            type: string
            enum:
              - hour
              - day
              - month
          description: TBD
        - name: timezone
          in: query
          required: true
          schema:
            type: string
          description: TBD
      responses:
        "200":
          description: Success
        "400":
          description: Bad request

  /websites/{id}/events/series:
    get:
      summary: Series (chart)
      tags:
        - Events
      description: TBD
      operationId: eventSeries
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          description: TBD
        - name: startAt
          in: query
          required: true
          schema:
            type: number
          description: TBD
        - name: endAt
          in: query
          required: true
          schema:
            type: number
          description: TBD
        - name: unit
          in: query
          required: true
          schema:
            type: string
            enum:
              - hour
              - day
              - month
          description: TBD
        - name: timezone
          in: query
          required: true
          schema:
            type: string
          description: TBD
      responses:
        "200":
          description: Success
          content:
            application/json:
              example:
                - x: "Chrome"
                  t: "2025-10-14T19:00:00Z"
                  y: 150
                - x: "Firefox"
                  t: "2025-10-14T19:00:00Z"
                  y: 80
              schema:
                type: array
                items:
                  type: object
                  properties:
                    x:
                      type: string
                      description: TBD
                    t:
                      type: string
                      format: date-time
                      description: TBD
                    y:
                      type: integer
                      description: TBD
        "400":
          description: Bad request

  /reports/breakdown:
    post:
      summary: Breakdown
      tags:
        - Reports
      description: TBD
      operationId: runBreakdown
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                websiteId:
                  type: string
                  format: uuid
                  description: TBD
                type:
                  type: string
                  description: TBD
                  enum:
                    - breakdown
                filters:
                  type: object
                  description: TBD
                  additionalProperties: true
                parameters:
                  type: object
                  description: TBD
                  properties:
                    startDate:
                      type: string
                      format: date-time
                      description: TBD
                    endDate:
                      type: string
                      format: date-time
                      description: TBD
                    timezone:
                      type: string
                      description: TBD
                    fields:
                      type: array
                      items:
                        type: string
                        description: TBD
                  required:
                    - startDate
                    - endDate
                    - timezone
                    - fields
              required:
                - websiteId
                - type
                - parameters
      responses:
        "200":
          description: Success
          content:
            application/json:
              example:
                - views: 69
                  visitors: 8
                  visits: 7
                  bounces: 2
                  totaltime: 2200
                  path: "/"
              schema:
                type: array
                items:
                  type: object
                  properties:
                    views:
                      type: integer
                      description: TBD
                    visitors:
                      type: integer
                      description: TBD
                    visits:
                      type: integer
                      description: TBD
                    bounces:
                      type: integer
                      description: TBD
                    totaltime:
                      type: integer
                      description: TBD
                    path:
                      type: string
                      description: TBD
        "400":
          description: Bad request

  /reports/journey:
    post:
      summary: Journey
      tags:
        - Reports
      description: TBD
      operationId: runJourney
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                websiteId:
                  type: string
                  format: uuid
                  description: TBD
                type:
                  type: string
                  description: TBD
                  enum: 
                    - journey
                filters:
                  type: object
                  description: TBD
                  additionalProperties: true
                parameters:
                  type: object
                  description: TBD
                  properties:
                    startDate:
                      type: string
                      format: date-time
                      description: TBD
                    endDate:
                      type: string
                      format: date-time
                      description: TBD
                    timezone:
                      type: string
                      description: TBD
                    steps:
                      type: integer
                      description: TBD
                    startStep:
                      type: string
                      description: TBD
                    endStep:
                      type: string
                      description: TBD
                  required:
                    - startDate
                    - endDate
                    - timezone
                    - steps
              required:
                - websiteId
                - type
                - parameters
      responses:
        "200":
          description: Success
          content:
            application/json:
              example:
                - items:
                    - "/page1"
                    - "click"
                    - "/page2"
                    - null
                  count: 150
                - items:
                    - "/home"
                    - "/about"
                    - null
                  count: 25
                - items:
                    - "/contact"
                    - "/submit"
                    - null
                  count: 5
              schema:
                type: array
                items:
                  type: object
                  properties:
                    items:
                      type: array
                      description: TBD
                      items:
                        type: 
                          - string
                          - 'null'
                    count:
                      type: integer
                      description: TBD
        "400":
          description: Bad request

  /reports/retention:
    post:
      summary: Retention
      tags:
        - Reports
      description: TBD
      operationId: runRetention
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                websiteId:
                  type: string
                  format: uuid
                  description: TBD
                type:
                  type: string
                  description: TBD
                  enum:
                    - retention
                filters:
                  type: object
                  description: TBD
                  additionalProperties: true
                parameters:
                  type: object
                  description: TBD
                  properties:
                    startDate:
                      type: string
                      format: date-time
                      description: TBD
                    endDate:
                      type: string
                      format: date-time
                      description: TBD
                    timezone:
                      type: string
                      description: TBD
                  required:
                    - startDate
                    - endDate
                    - timezone
              required:
                - websiteId
                - type
                - parameters
      responses:
        "200":
          description: Success
        "400":
          description: Bad request

  /reports/attribution:
    post:
      summary: Attribution
      tags:
        - Reports
      description: TBD
      operationId: runAttribution
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                websiteId:
                  type: string
                  format: uuid
                  description: TBD
                type:
                  type: string
                  description: TBD
                  enum:
                    - attribution
                filters:
                  type: object
                  description: TBD
                  additionalProperties: true
                parameters:
                  type: object
                  description: TBD
                  properties:
                    startDate:
                      type: string
                      format: date-time
                      description: TBD
                    endDate:
                      type: string
                      format: date-time
                      description: TBD
                    timezone:
                      type: string
                      description: TBD
                    model:
                      type: string
                      description: TBD
                    type:
                      type: string
                      description: TBD
                    step:
                      type: string
                      description: TBD
                  required:
                    - startDate
                    - endDate
                    - timezone
                    - model
                    - type
                    - step
              required:
                - websiteId
                - type
                - parameters
      responses:
        "200":
          description: Success
        "400":
          description: Bad request

  /reports/revenue:
    post:
      summary: Revenue
      tags:
        - Reports
      description: TBD
      operationId: runRevenue
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                websiteId:
                  type: string
                  format: uuid
                  description: TBD
                type:
                  type: string
                  description: TBD
                  enum:
                    - revenue
                filters:
                  type: object
                  description: TBD
                  additionalProperties: true
                parameters:
                  type: object
                  description: TBD
                  properties:
                    startDate:
                      type: string
                      format: date-time
                      description: TBD
                    endDate:
                      type: string
                      format: date-time
                      description: TBD
                    timezone:
                      type: string
                      description: TBD
                    currency:
                      type: string
                      description: TBD
                  required:
                    - startDate
                    - endDate
                    - timezone
                    - currency
              required:
                - websiteId
                - type
                - parameters
      responses:
        "200":
          description: OK
        "400":
          description: Bad request

  /reports/utm:
    post:
      summary: UTM
      tags:
        - Reports
      description: TBD
      operationId: runUTM
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                websiteId:
                  type: string
                  format: uuid
                  description: TBD
                type:
                  type: string
                  description: TBD
                  enum:
                    - utm
                filters:
                  type: object
                  description: TBD
                  additionalProperties: true
                parameters:
                  type: object
                  description: TBD
                  properties:
                    startDate:
                      type: string
                      format: date-time
                      description: TBD
                    endDate:
                      type: string
                      format: date-time
                      description: Tx
                    timezone:
                      type: string
                      description: TBD
                  required:
                    - startDate
                    - endDate
                    - timezone
              required:
                - websiteId
                - type
                - parameters
      responses:
        "200":
          description: Success
        "400":
          description: Bad request

  /pixels:
    get:
      summary: Get all
      tags:
        - Pixels
      description: TBD
      operationId: getPixels
      responses:
        "200":
          description: Success
          content:
            application/json:
              example:
                data:
                  - id: "a1b2c3d4-e5f6-7890-1234-567890abcdef"
                    name: "My Analytics Site"
                    slug: "my-analytics-site"
                    userId: "f0e9d8c7-b6a5-4321-fedc-ba9876543210"
                    teamId: null
                    createdAt: "2024-01-01T10:00:00.000Z"
                    updatedAt: "2024-10-14T10:30:00.000Z"
                    deletedAt: null
                count: 1
                page: 1
                pageSize: 10
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          format: uuid
                          description: TBD
                        name:
                          type: string
                          description: TBD
                        slug:
                          type: string
                          description: TBD
                        userId:
                          type: string
                          format: uuid
                          description: TBD
                        teamId:
                          type: 
                            - string
                            - 'null'
                          format: uuid
                          description: TBD
                        createdAt:
                          type: string
                          format: date-time
                        updatedAt:
                          type: string
                          format: date-time
                        deletedAt:
                          type: 
                            - string
                            - 'null'
                          format: date-time
                          description: TBD
                  count:
                    type: integer
                    description: TBD
                  page:
                    type: integer
                    description: TBD
                  pageSize:
                    type: integer
                    description: TBD
        "400":
          description: Bad request
    post:
      summary: Create
      tags:
        - Pixels
      description: TBD
      operationId: createPixel
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                slug:
                  type: string
                  description: TBD
                name:
                  type: string
                  description: TBD
              required:
                - slug
                - name
      responses:
        "200":
          description: Success
        "400":
          description: Bad request

  /pixels/{id}:
    get:
      summary: Get details
      tags:
        - Pixels
      description: TBD
      operationId: getPixelDetails
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          description: TBD
      responses:
        "200":
          description: Success
          content:
            application/json:
              example:
                id: "a1b2c3d4-e5f6-7890-1234-567890abcdef"
                name: "My Website Name"
                slug: "my-website-name"
                userId: "f0e9d8c7-b6a5-4321-fedc-ba9876543210"
                teamId: null
                createdAt: "2024-01-01T10:00:00.000Z"
                updatedAt: "2024-10-14T10:30:00.000Z"
                deletedAt: null
              schema:
                type: object
                properties:
                  id:
                    type: string
                    format: uuid
                    description: TBD
                  name:
                    type: string
                    description: TBD
                  slug:
                    type: string
                    description: TBD
                  userId:
                    type: string
                    format: uuid
                    description: TBD
                  teamId:
                    type: 
                      - string
                      - 'null'
                    format: uuid
                    description: TBD
                  createdAt:
                    type: string
                    format: date-time
                  updatedAt:
                    type: string
                    format: date-time
                  deletedAt:
                    type: 
                      - string
                      - 'null'
                    format: date-time
                    description: TBD
        "400":
          description: Bad request
    post:
      summary: Update
      tags:
        - Pixels
      description: TBD
      operationId: updatePixel
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          description: ID of the chess result
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                slug:
                  type: string
                  description: TBD
                name:
                  type: string
                  description: TBD
              required:
                - slug
                - name
      responses:
        "200":
          description: Updated link
          content:
            application/json:
              example:
                ok:: false
        "400":
          description: Bad request
    delete:
      summary: Delete
      tags:
        - Pixels
      description: TBD
      operationId: deletePixel
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          description: TBD
      responses:
        "200":
          description: Success
          content:
            application/json:
              example:
                ok: true
              schema:
                type: object
                properties:
                  ok:
                    type: boolean
                    description: TBD
        "400":
          description: Bad request

  /links:
    get:
      summary: Get all
      tags:
        - Links
      description: TBD
      operationId: getLinks
      responses:
        "200":
          description: Success
          content:
            application/json:
              example:
                data:
                  - id: "a1b2c3d4-e5f6-7890-1234-567890abcdef"
                    name: "Blog"
                    url: "https://example.com/blog"
                    slug: "blog-site"
                    userId: "f0e9d8c7-b6a5-4321-fedc-ba9876543210"
                    teamId: null
                    createdAt: "2024-01-01T10:00:00.000Z"
                    updatedAt: "2024-10-14T10:30:00.000Z"
                    deletedAt: null
                count: 5
                page: 1
                pageSize: 10
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          format: uuid
                          description: TBD
                        name:
                          type: string
                          description: TBD
                        url:
                          type: string
                          format: url
                          description: TBD
                        slug:
                          type: string
                          description: TBD
                        userId:
                          type: string
                          format: uuid
                          description: TBD
                        teamId:
                          type: 
                            - string
                            - 'null'
                          format: uuid
                          description: TBD
                        createdAt:
                          type: string
                          format: date-time
                        updatedAt:
                          type: string
                          format: date-time
                        deletedAt:
                          type: 
                            - string
                            - 'null'
                          format: date-time
                          description: TBD
                  count:
                    type: integer
                    description: TBD
                  page:
                    type: integer
                    description: TBD
                  pageSize:
                    type: integer
                    description: TBD
        "400":
          description: Bad request
    post:
      summary: Create
      tags:
        - Links
      description: TBD
      operationId: createLink
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                slug:
                  type: string
                  description: TBD
                name:
                  type: string
                  description: TBD
                url:
                  type: string
                  format: url
                  description: TBD
              required:
                - slug
                - name
                - url
      responses:
        "200":
          description: Success
        "400":
          description: Bad request

  /links/{id}:
    get:
      summary: Get details
      tags:
        - Links
      description: TBD
      operationId: getLinkDetails
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          description: TBD
      responses:
        "200":
          description: Success
          content:
            application/json:
              example:
                id: "a1b2c3d4-e5f6-7890-1234-567890abcdef"
                name: "Test Site"
                url: "https://example.com"
                slug: "test-site"
                userId: "f0e9d8c7-b6a5-4321-fedc-ba9876543210"
                teamId: null
                createdAt: "2024-01-01T10:00:00.000Z"
                updatedAt: "2024-10-14T10:30:00.000Z"
                deletedAt: null
              schema:
                type: object
                properties:
                  id:
                    type: string
                    format: uuid
                    description: TBD
                  name:
                    type: string
                    description: TBD
                  url:
                    type: string
                    format: url
                    description: TBD
                  slug:
                    type: string
                    description: TBD
                  userId:
                    type: string
                    format: uuid
                    description: TBD
                  teamId:
                    type: 
                      - string
                      - 'null'
                    format: uuid
                    description: TBD
                  createdAt:
                    type: string
                    format: date-time
                  updatedAt:
                    type: string
                    format: date-time
                  deletedAt:
                    type: 
                      - string
                      - 'null'
                    format: date-time
                    description: TBD
        "400":
          description: Bad request
    post:
      summary: Update
      tags:
        - Links
      description: TBD
      operationId: updateLink
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          description: TBD
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                slug:
                  type: string
                  description: TBD
                name:
                  type: string
                  description: TBD
                url:
                  type: string
                  format: url
                  description: TBD
              required:
                - slug
                - name
                - url
      responses:
        "200":
          description: Success
        "400":
          description: Bad request
    delete:
      summary: Delete
      tags:
        - Links
      description: TBD
      operationId: deleteLink
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          description: TBD
      responses:
        "200":
          description: Success
          content:
            application/json:
              example:
                ok: true
              schema:
                type: object
                properties:
                  ok:
                    type: boolean
                    description: TBD
        "400":
          description: Bad request

  /websites/{id}/segments:
    get:
      summary: Get all
      tags:
        - Cohorts & Segments
      description: TBD
      operationId: getAllCohortSegment
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          description: TBD

        - name: client
          in: query
          required: true
          schema:
            type: string
            # enum:
            #  - [object Object]
          description: TBD
        - name: queryKey
          in: query
          required: true
          schema:
            type: string
            enum:
              - website:segments,[object Object]
          description: TBD
        - name: signal
          in: query
          required: true
          schema:
            type: string
            # enum:
            #  - [object AbortSignal]
          description: TBD
        - name: type
          in: query
          required: true
          schema:
            type: string
            enum:
              - cohort
              - segment
          description: TBD
      responses:
        "200":
          description: Success
          content:
            application/json:
              example:
                data:
                  - id: "a1b2c3d4-e5f6-7890-1234-567890abcdef"
                    websiteId: "f0e9d8c7-b6a5-4321-fedc-ba9876543210"
                    type: "cohort"
                    name: "Checkout Funnel"
                    parameters:
                      action:
                        type: "pageview"
                        value: "/checkout/success"
                      filters:
                        - name: "country"
                          value: "US"
                          operator: "eq"
                      dateRange: "last_30_days"
                    createdAt: "2024-01-01T10:00:00.000Z"
                    updatedAt: "2024-10-14T10:30:00.000Z"
                count: 1
                page: 1
                pageSize: 10
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          format: uuid
                          description: TBD
                        websiteId:
                          type: string
                          format: uuid
                          description: TBD
                        type:
                          type: string
                          enum:
                            - segment
                            - cohort
                          description: TBD
                        name:
                          type: string
                          description: TBD
                        parameters:
                          type: object
                          description: TBD
                          properties:
                            action:
                              type: object
                              properties:
                                type:
                                  type: string
                                value:
                                  type: string
                              required:
                                - type
                                - value
                            filters:
                              type: array
                              items:
                                type: object
                                properties:
                                  name:
                                    type: string
                                  value:
                                    type: string
                                  operator:
                                    type: string
                            dateRange:
                              type: string
                              description: TBD
                        createdAt:
                          type: string
                          format: date-time
                        updatedAt:
                          type: string
                          format: date-time
                  count:
                    type: integer
                    description: TBD
                  page:
                    type: integer
                    description: TBD
                  pageSize:
                    type: integer
                    description: TBD
        "400":
          description: Bad request
    post:
      summary: Create
      tags:
        - Cohorts & Segments
      description: TBD
      operationId: createCohortSegment
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          description: TBD
      responses:
        "200":
          description: TBD
        "400":
          description: Bad request

  /websites/{id}/segments/{_id}:
    get:
      summary: Get details
      tags:
        - Cohorts & Segments
      description: TBD
      operationId: getDetailsCohortSegment
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          description: TBD
        - name: _id
          in: path
          required: true
          schema:
            type: string
          description: TBD
      responses:
        "200":
          description: TBD
        "400":
          description: Bad request
    post:
      summary: Update
      tags:
        - Cohorts & Segments
      description: TBD
      operationId: updateCohortSegment
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          description: TBD
      responses:
        "200":
          description: TBD
        "400":
          description: Bad request
    delete:
      summary: Delete
      tags:
        - Cohorts & Segments
      description: TBD
      operationId: deleteCohortSegment
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          description: TBD
      responses:
        "200":
          description: TBD
        "400":
          description: Bad request

  /websites:
    get:
      summary: Get all websites
      tags:
        - Websites
      description: TBD
      operationId: getAllWebsites
      responses:
        "200":
          description: Success
          content: 
            application/json:
              example: 
                data:
                  - id: "a1b2c3d4-e5f6-7890-1234-567890abcdef"
                    name: "Example Name"
                    domain: "example.com"
                    shareId: null
                    resetAt: null
                    userId: "b2c3d4e5-f678-9012-3456-7890abcdef12"
                    teamId: null
                    createdBy: "c3d4e5f6-7890-1234-5678-90abcdef1234"
                    createdAt: "2025-10-14T10:00:00.000Z"
                    updatedAt: "2025-10-14T10:05:00.000Z"
                    deletedAt: null
                    user:
                      username: "example_user_name"
                      id: "d4e5f678-9012-3456-7890-abcdef123456"
                count: 1
                page: 1
                pageSize: 10
              schema:
                type: object
                properties:
                  data:
                    type: array
                    description: TBD
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          format: uuid
                        name:
                          type: string
                        domain:
                          type: string
                        shareId:
                          type: 
                            - string
                            - 'null'
                        resetAt:
                          type: 
                            - string
                            - 'null'
                          format: date-time
                        userId:
                          type: string
                          format: uuid
                        teamId:
                          type: 
                            - string
                            - 'null'
                        createdBy:
                          type: string
                          format: uuid
                        createdAt:
                          type: string
                          format: date-time
                        updatedAt:
                          type: string
                          format: date-time
                        deletedAt:
                          type: 
                            - string
                            - 'null'
                          format: date-time
                        user:
                          type: object
                          properties:
                            username:
                              type: string
                            id:
                              type: string
                              format: uuid
                  count:
                    type: integer
                    description: TBD
                  page:
                    type: integer
                    description: TBD
                  pageSize:
                    type: integer
                    description: TBD
        "400":
          description: Bad request
    post:
      summary: Create website
      tags:
        - Websites
      description: TBD
      operationId: createWebsite
      requestBody: 
        content: 
          application/json:
            schema: 
              type: object
              required:
                - name
                - domain
              properties:
                name:
                  type: string
                domain:
                  type: string
                  format: hostname
                shareId:
                  type: 
                    - 'null'
                    - string
                  minimum: 8
                  maximum: 50
      responses:
        "200":
          description: Success
          content:
            application/json:
              example:
                id: 9293665a-b4bc-4e4a-afde-ddecae0d48b7
                name: Demo
                domain: example.com
                shareId: null
                resetAt: null
                userId: e027737a-1884-4a16-8028-e720615747d0
                teamId: null
                createdBy: e027737a-1884-4a16-8028-e720615747d0
                createdAt: "2025-10-17T19:27:38.269Z"
                updatedAt: "2025-10-17T19:27:38.269Z"
                deletedAt: null
              schema:
                type: object
                properties:
                  id:
                    type: string
                    format: uuid
                    description: TBD
                  name:
                    type: string
                    description: TBD
                  domain:
                    type: string
                    format: hostname
                    description: TBD
                  shareId:
                    type: 
                      - string
                      - 'null'
                    description: TBD
                  resetAt:
                    type: 
                      - string
                      - 'null'
                    format: date-time
                    description: TBD
                  userId:
                    type: string
                    format: uuid
                    description: TBD
                  teamId:
                    type: 
                      - string
                      - 'null'
                    format: uuid
                    description: TBD
                  createdBy:
                    type: string
                    format: uuid
                    description: TBD
                    readOnly: true
                  createdAt:
                    type: string
                    format: date-time
                    description: TBD
                  updatedAt:
                    type: string
                    format: date-time
                    description: TBD
                  deletedAt:
                    type: 
                      - string
                      - 'null'
                    format: date-time
                    description: TBD
        "400":
          description: Bad request

  /websites/{id}:
    get:
      summary: Get website details
      tags:
        - Websites
      description: TBD
      operationId: getWebsiteDetails
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          description: TBD
      responses:
        "200":
          description: Success
          content: 
            application/json:
              example:
                id: "3a9f8c12-4d57-4e2a-9b3f-0f1a2b3c4d5e"
                name: "Sandbox"
                domain: "app.example.org"
                shareId: null
                resetAt: null
                userId: "b1c2d3e4-5f67-489a-9abc-0123456789ab"
                teamId: null
                createdBy: "b1c2d3e4-5f67-489a-9abc-0123456789ab"
                createdAt: "2025-09-22T11:35:23.635Z"
                updatedAt: "2025-10-17T20:01:05.473Z"
                deletedAt: null
              schema:
                type: object
                properties:
                  id:
                    type: string
                    format: uuid
                    description: TBD
                  name:
                    type: string
                    description: TBD
                  domain:
                    type: string
                    format: hostname
                    description: TBD
                  shareId:
                    type: 
                      - string
                      - 'null'
                    description: TBD
                  resetAt:
                    type: 
                      - string
                      - 'null'
                    format: date-time
                    description: TBD
                  userId:
                    type: string
                    format: uuid
                    description: TBD
                  teamId:
                    type: 
                      - string
                      - 'null'
                    format: uuid
                    description: TBD
                  createdBy:
                    type: string
                    format: uuid
                    description: TBD
                  createdAt:
                    type: string
                    format: date-time
                    description: TBD
                  updatedAt:
                    type: string
                    format: date-time
                    description: TBD
                  deletedAt:
                    type: 
                      - string
                      - 'null'
                    format: date-time
                    description: TBD
        "400":
          description: Bad request
    post:
      summary: Update
      tags:
        - Websites
      description: TBD
      operationId: updateWebsite
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          description: TBD
      requestBody: 
        content: 
          application/json:
            schema: 
              type: object
              properties:
                name:
                  type: string
                domain:
                  type: string
                  format: hostname
                shareId:
                  type: 
                    - string
                    - 'null'
                  format: hash
                  minLength: 8
                  maxLength: 50
                  example: null
      responses:
        "200":
          description: Success
          content:
            application/json:
              example:
                id: 9293665a-b4bc-4e4a-afde-ddecae0d48b7
                name: Demo
                domain: example.com
                shareId: null
                resetAt: null
                userId: e027737a-1884-4a16-8028-e720615747d0
                teamId: null
                createdBy: e027737a-1884-4a16-8028-e720615747d0
                createdAt: "2025-10-17T19:27:38.269Z"
                updatedAt: "2025-10-17T19:27:38.269Z"
                deletedAt: null
              schema:
                type: object
                properties:
                  id:
                    type: string
                    format: uuid
                    description: TBD
                  name:
                    type: string
                    description: TBD
                  domain:
                    type: string
                    format: hostname
                    description: TBD
                  shareId:
                    type: 
                      - string
                      - 'null'
                    description: TBD
                  resetAt:
                    type: 
                      - string
                      - 'null'
                    format: date-time
                    description: TBD
                  userId:
                    type: string
                    format: uuid
                    description: TBD
                  teamId:
                    type: 
                      - string
                      - 'null'
                    format: uuid
                    description: TBD
                  createdBy:
                    type: string
                    format: uuid
                    description: TBD
                    readOnly: true
                  createdAt:
                    type: string
                    format: date-time
                    description: TBD
                  updatedAt:
                    type: string
                    format: date-time
                    description: TBD
                  deletedAt:
                    type: 
                      - string
                      - 'null'
                    format: date-time
                    description: TBD
        "400":
          description: Bad request
    delete:
      summary: Delete website
      tags:
        - Websites
      description: TBD
      operationId: deleteWebsite
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          description: TBD
      responses:
        "200":
          description: Success
          content: 
            application/json:
              example:
                ok: true
              schema:
                type: object
                properties:
                  ok:
                    type: boolean
                    description: TBD
        "400":
          description: Bad request

  /websites/{id}/reset:
    post:
      summary: Reset statistics
      tags:
        - Websites
      description: TBD
      operationId: resetWebsiteStatistics
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          description: TBD
      responses:
        "200":
          description: Success
          content: 
            application/json:
              example:
                ok: true
              schema:
                type: object
                properties:
                  ok:
                    type: boolean
                    description: TBD
        "400":
          description: Bad request

  /teams:
    get:
      summary: Get all teams
      tags:
        - Teams
      description: TBD
      operationId: getAllTeams
      responses:
        "200":
          description: Success
          content: 
            application/json:
              example:
                data:
                  - id: "3f1c0f3e-1e8b-4d1a-9b8b-5f7e3f0a4c2d"
                    name: "alpha-team"
                    accessCode: "team_N9x2Qw8Ka3Lp5Zr1"
                    logoUrl: null
                    createdAt: "2025-10-05T10:15:30.000Z"
                    updatedAt: "2025-10-05T10:15:30.000Z"
                    deletedAt: null
                    members:
                      - id: "6d0a8f0c-2b1e-4c7a-8d79-2a2b2f8f3b1e"
                        teamId: "3f1c0f3e-1e8b-4d1a-9b8b-5f7e3f0a4c2d"
                        userId: "a8d7f9b1-5e2f-4a93-9eb5-3b8c2a7e1f40"
                        role: "team-owner"
                        createdAt: "2025-10-05T10:16:00.000Z"
                        updatedAt: "2025-10-05T10:16:00.000Z"
                        user:
                          id: "a8d7f9b1-5e2f-4a93-9eb5-3b8c2a7e1f40"
                          username: "alice"
                    _count:
                      websites: 2
                      members: 1
                  - id: "9c2e7b14-4b1f-45b8-9d5c-b8e2b7a9e3f1"
                    name: "beta-team"
                    accessCode: "team_Ty4LmQ7vWd2Hs8P3"
                    logoUrl: null
                    createdAt: "2025-10-06T08:00:12.345Z"
                    updatedAt: "2025-10-06T08:12:44.123Z"
                    deletedAt: null
                    members:
                      - id: "f2b9a7c3-7e1d-4c6a-9f3a-1a2b3c4d5e6f"
                        teamId: "9c2e7b14-4b1f-45b8-9d5c-b8e2b7a9e3f1"
                        userId: "c7a1b2d3-e4f5-6789-abcd-0123456789ab"
                        role: "team-owner"
                        createdAt: "2025-10-06T08:01:00.000Z"
                        updatedAt: "2025-10-06T08:01:00.000Z"
                        user:
                          id: "c7a1b2d3-e4f5-6789-abcd-0123456789ab"
                          username: "bob"
                    _count:
                      websites: 0
                      members: 1
                count: 2
                page: 1
                pageSize: 20
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      type: object
                      additionalProperties: false
                      properties:
                        id:
                          type: string
                          format: uuid
                          description: TBD
                        name:
                          type: string
                          minLength: 1
                        accessCode:
                          type: string
                          minLength: 8
                          maxLength: 64
                          description: TBD
                        logoUrl:
                          type: 
                            - string
                            - 'null'
                          format: uri
                          description: TBD
                        createdAt:
                          type: string
                          format: date-time
                        updatedAt:
                          type: string
                          format: date-time
                        deletedAt:
                          type: 
                            - string
                            - 'null'
                          format: date-time
                        members:
                          type: array
                          items:
                            type: object
                            properties:
                              id:
                                type: string
                                format: uuid
                              teamId:
                                type: string
                                format: uuid
                              userId:
                                type: string
                                format: uuid
                              role:
                                type: string
                                description: TBD
                                enum: [team-owner, team-admin, team-member]
                              createdAt:
                                type: string
                                format: date-time
                              updatedAt:
                                type: string
                                format: date-time
                              user:
                                type: object
                                properties:
                                  id:
                                    type: string
                                    format: uuid
                                  username:
                                    type: string
                                    minLength: 1
                                    description: TBD
                        _count:
                          type: object
                          properties:
                            websites:
                              type: integer
                            members:
                              type: integer
                  count:
                    type: integer
                    description: TBD
                  page:
                    type: integer
                    description: TBD
                  pageSize:
                    type: integer
                    description: TBD
        "400":
          description: Bad request
    post:
      summary: Create team
      tags:
        - Teams
      description: TBD
      operationId: createTeam
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required: [name]
              properties:
                name:
                  type: string
                  description: TBD
      responses:
        "200":
          description: Success
          content: 
            application/json:
              example:
                - id: "5f8a7c3e-2d41-4b9a-9c1e-0a2b3c4d5e6f"
                  name: "Testing team"
                  accessCode: "team_Xy12Ab34Cd56Ef78"
                  logoUrl: null
                  createdAt: "2025-10-17T20:56:02.541Z"
                  updatedAt: "2025-10-17T20:56:02.541Z"
                  deletedAt: null
                - id: "9e8d7c6b-5a4f-43e2-9d1c-0b1a2c3d4e5f"
                  teamId: "5f8a7c3e-2d41-4b9a-9c1e-0a2b3c4d5e6f"
                  userId: "1a2b3c4d-5e6f-4012-9abc-def012345678"
                  role: "team-owner"
                  createdAt: "2025-10-17T20:56:02.697Z"
                  updatedAt: "2025-10-17T20:56:02.697Z"
              schema: 
                type: array
                items:
                  anyOf:
                    - type: object
                      properties:
                        id:
                          type: string
                          format: uuid
                        name:
                          type: string
                        accessCode:
                          type: string
                          description: TBD
                        logoUrl:
                          type: 
                            - string
                            - 'null'
                          format: uri
                        createdAt:
                          type: string
                          format: date-time
                        updatedAt:
                          type: string
                          format: date-time
                        deletedAt:
                          type: 
                            - string
                            - 'null'
                          format: date-time
                    - type: object
                      properties:
                        id:
                          type: string
                          format: uuid
                        teamId:
                          type: string
                          format: uuid
                        userId:
                          type: string
                          format: uuid
                        role:
                          type: string
                          description: TBD
                          enum: [team-owner, team-admin, team-member]
                        createdAt:
                          type: string
                          format: date-time
                        updatedAt:
                          type: string
                          format: date-time
        "400":
          description: Bad request

  /teams/{id}:
    get:
      summary: Get team details
      tags:
        - Teams
      description: TBD
      operationId: getTeamDetails
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          description: TBD
      responses:
        "200":
          description: Success
          content: 
            application/json:
              example:
                id: "7f6a1c28-3d9e-4b4b-9f1b-8c2d7e4a1b5c"
                name: "Testing team"
                accessCode: "team_QwErTy1234567890"
                logoUrl: null
                createdAt: "2025-10-17T20:56:02.541Z"
                updatedAt: "2025-10-17T20:56:02.541Z"
                deletedAt: null
                members:
                  - id: "5e9b1d34-8f23-4a6b-9c71-2d3a4e5f6b7c"
                    teamId: "7f6a1c28-3d9e-4b4b-9f1b-8c2d7e4a1b5c"
                    userId: "c1b2a3d4-e5f6-4a78-9b01-23456789abcd"
                    role: "team-owner"
                    createdAt: "2025-10-17T20:56:02.697Z"
                    updatedAt: "2025-10-17T20:56:02.697Z"
              schema:
                type: object
                properties:
                  id:
                    type: string
                    format: uuid
                    description: TBD
                  name:
                    type: string
                  accessCode:
                    type: string
                    description: TBD
                  logoUrl:
                    type: 
                      - string
                      - 'null'
                    format: uri
                  createdAt:
                    type: string
                    format: date-time
                  updatedAt:
                    type: string
                    format: date-time
                  deletedAt:
                    type: 
                      - string
                      - 'null'
                    format: date-time
                  members:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          format: uuid
                        teamId:
                          type: string
                          format: uuid
                        userId:
                          type: string
                          format: uuid
                        role:
                          type: string
                          enum: [team-owner, team-admin, team-member]
                          description: TBD
                        createdAt:
                          type: string
                          format: date-time
                        updatedAt:
                          type: string
                          format: date-time
        "400":
          description: Bad request
    post:
      summary: Update team
      tags:
        - Teams
      description: TBD
      operationId: updateTeam
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          description: TBD
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required: [name]
              properties:
                name:
                  type: string
                  description: TBD
      responses:
        "200":
          description: Success
          content: 
            application/json:
              example:
                id: "7f6a1c28-3d9e-4b4b-9f1b-8c2d7e4a1b5c"
                name: "Testing team"
                accessCode: "team_QwErTy1234567890"
                logoUrl: null
                createdAt: "2025-10-17T20:56:02.541Z"
                updatedAt: "2025-10-17T20:56:02.541Z"
                deletedAt: null
              schema:
                type: object
                properties:
                  id:
                    type: string
                    format: uuid
                    description: TBD
                  name:
                    type: string
                  accessCode:
                    type: string
                    description: TBD
                  logoUrl:
                    type: 
                      - string
                      - 'null'
                    format: uri
                  createdAt:
                    type: string
                    format: date-time
                  updatedAt:
                    type: string
                    format: date-time
                  deletedAt:
                    type: 
                      - string
                      - 'null'
                    format: date-time
        "400":
          description: Bad request
    delete:
      summary: Delete team
      tags:
        - Teams
      description: TBD
      operationId: deleteTeam
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          description: TBD
      responses:
        "200":
          description: Success
          content: 
            application/json:
              example:
                ok: true
              schema:
                type: object
                properties:
                  ok:
                    type: boolean
                    description: TBD
        "400":
          description: Bad request

  /teams/join:
    post:
      summary: Join team
      tags:
        - Teams
      description: TBD
      operationId: joinTeam
      responses:
        "200":
          description: Success
        "400":
          description: Bad request

  /teams/{id}/users/{id}:
    delete:
      summary: Remove or leave team
      tags:
        - Teams
      description: TBD
      operationId: removeTeam
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          description: TBD
      responses:
        "200":
          description: Success
        "400":
          description: Bad request
    post:
      summary: Update member role
      tags:
        - Teams
      description: TBD
      operationId: updateTeamMemberRole
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          description: TBD
      responses:
        "200":
          description: Success
        "400":
          description: Bad request

  /invite:
    post:
      summary: Invite to team
      tags:
        - Teams
      description: TBD
      operationId: inviteToTeam
      requestBody:
        content:
          application/json:
            schema:
              type: object
              additionalProperties: false
              required: [email, role, teamId]
              properties:
                email:
                  type: string
                  format: email
                  description: TBD
                role:
                  type: string
                  description: TBD
                  enum: [team-owner, team-admin, team-member, team-view-only]
                teamId:
                  type: string
                  format: uuid
                  description: TBD
      responses:
        "200":
          description: TBD
          content: 
            application/json:
              example:
                ok: true
              schema:
                type: object
                properties:
                  ok:
                    type: boolean
                    description: TBD
        "400":
          description: Bad request

  /websites/{id}/daterange:
    get:
      summary: Date range
      tags:
        - Helper
      description: TBD
      operationId: getDaterange
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          description: TBD
      responses:
        "200":
          description: Success
          content: 
            application/json:
              example:
                  startDate: "2023-09-11T09:00:00Z"
                  endDate: "2023-09-17T18:00:00Z"
              schema:
                type: object
                properties:
                  startDate:
                    type: string
                    format: date-time
                    description: TBD
                  endDate:
                    type: string
                    format: date-time
                    description: TBD
        "400":
          description: Bad request

  /websites/{id}/values:
    get:
      summary: Values
      tags:
        - Helper
      description: TBD
      operationId: getValues
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
          description: TBD
        - name: type
          in: query
          required: true
          schema:
            type: string
            enum: 
              - event
              - path
          description: TBD
        - name: startAt
          in: query
          required: true
          schema:
            type: number
          description: TBD
        - name: endAt
          in: query
          required: true
          schema:
            type: number
          description: TBD
      responses:
        "200":
          description: Success
          content:
            application/json:
              example:
                - value: "category_a"
                  count: 42
                - value: "category_b"
                  count: 105
              schema:
                type: array
                items:
                  type: object
                  properties:
                    value:
                      type: string
                    count:
                      type: integer  
        "400":
          description: Bad request

servers:
  - url: https://api.umami.is/v1
    description: Umami Cloud (use API Token authentication)
  - url: https://umami.example.com/api
    description: Self-hosted Umami (use Bearer Token authentication)

security:
  - api-key: []
  - bearer-token: []

components:
  securitySchemes:
    api-key:
      type: apiKey
      name: x-umami-api-key
      in: header
      description: >-
        API Key authentication for Umami Cloud.
        Get your API key from your Umami Cloud settings.
    bearer-token:
      type: http
      scheme: bearer
      bearerFormat: JWT
      description: >-
        Bearer token authentication for self-hosted Umami instances.
        Use a JWT token obtained from your authentication endpoint.
